<div *ngIf="getQuestionData() as questionData">
    <div *ngIf="getPlayer() as player">
        <h2>{{ questionData.text }}</h2>

        <p>Valeur de la question: {{ questionData.points }} points</p>

        <div *ngIf="questionData.type === 'QCM'" id="question-container" (keyup)="handleKeyUp($event)">
            <div *ngFor="let choice of playerHandlerService.player.questions[0].choices; let i = index">
                <label>
                    <input [disabled]="this.playerHandlerService.answerConfirmed" type="checkbox"
                        [(ngModel)]="choice.isCorrect" (ngModelChange)="playerHandlerService.updatePlayer()" />
                    {{ i + 1 }} ) {{ choice.text }}
                </label>
            </div>
        </div>

        <div *ngIf="questionData.type === 'QRL'" id="question-container">
            <textarea [disabled]="this.playerHandlerService.answerConfirmed"
                placeholder="Tapez votre réponse ici..."></textarea>
        </div>

        <div>Score: {{ player.score }}</div>

        <div *ngIf="this.playerHandlerService.showingAnswer" id="grade-container">
            <span *ngFor="let correctAnswer of questionHandlerService.getCurrentAnswers(); let i = index">
                <p>Réponse(s): {{ correctAnswer.text }}</p>
            </span>
            <div *ngIf="player.isCorrect">
                <p>Bonne réponse!</p>
            </div>
        </div>
        <button [disabled]="this.playerHandlerService.answerConfirmed"
            (click)="playerHandlerService.confirmPlayerAnswer()">Confirmer</button>
    </div>
</div>
